<script src="./../dist/vue.global.js"></script>

<div id="app">
  <div>title: {{state.title}}</div>
  <button @click="add">click</button>
  <Item :msg="state.title"/>
</div>

<script>
const Item = {
  props: ['msg'],
  template: `<div>{{ msg }} <button @click="$emit('rm')">x</button></div>`
}

console.log('Vue',Vue);
const app = Vue.createApp(
{
  components: {
    Item
  },
  setup(props, {emit}) {
    const target = new Proxy({
      title: 1
    },{})
    console.log('target',target);
    const state = Vue.reactive(target)
    const state1 = Vue.reactive(target)
    console.log('state', state1.__v_raw);
    const add = () => {
      state.title += 1
    }
    return {
      state,
      add
    }
  }
}
)


app.mount('#app')



console.log('===============');
const state = {
  q: 1
}
const p = new Proxy(state, {
  get: (target, property, receiver) => {
    console.log(target, property, receiver, receiver === p);
    return target[property]
  }
})
console.log('q', p.toString);
console.log('===============');



</script>
